// ————————————————————————————————————————
// main.scss
// Import Bulma and OAPEN’s custom styles
// Set colour palette, typography
// and other customisations of Bulma
// ————————————————————————————————————————


// ————————————————————————————————————————
// Import Bulma and OAPEN’s styles
// ————————————————————————————————————————

// Bring in OAPEN’s colour palette and typography variables
@use "./oa-variables" as *;

// Import Bulma’s entry-point with overrides
@use "bulma/sass/utilities/initial-variables" with (
  // Prefix everything with “bulma-”
  $class-prefix: "bulma-",

  // Disable all of Bulma’s default rounded border radius
  $radius: 0,
  $radius-small: 0,
  $radius-medium: 0, 
  $radius-large: 0,

  // Keep .is-rounded available in case we do need it
  $radius-rounded: 9999px,

  // Make Bulma use Vremena Grotesk everywhere
  $family-sans-serif: ("Vremena Grotesk", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial),

  // Map weights Bulma uses to our files
  $weight-light:   300,     // (Unused for now)
  $weight-normal:  400,     // Regular
  $weight-medium:  500,     // Medium
  $weight-semibold:600,     // (falls back to 700)
  $weight-bold:    700      // Bold
);

// Map Bulma’s semantic colours to our custom variables
@use "bulma/sass/utilities/derived-variables" with (
  $primary:       $brand-primary-600,
  $link:          $brand-primary-500,
  $info:          $brand-primary-500,

  $success:       $oa-colour-moss-600,
  $warning:       $oa-colour-ochre-500,
  $danger:        $oa-colour-rust-600,

  $scheme-main:   $oa-colour-paper,
  $scheme-invert: $oa-colour-ink,
  $text:          $oa-colour-ink,

  // Neutral surfaces & borders
  $background:    $oa-colour-paper,
  $border:        $oa-colour-stone-300,

  $custom-colors: (
    "brand":      ($brand-primary-600,     $oa-colour-paper),
    "brand-hero": ($brand-primary-700,     $oa-colour-paper),
    "ink":        ($oa-colour-ink,         $oa-colour-paper),
    "paper":      ($oa-colour-paper,       $oa-colour-ink),
    "stone":      ($oa-colour-stone-600,   $oa-colour-paper),
    "moss":       ($oa-colour-moss-600,    $oa-colour-paper),
    "ochre":      ($oa-colour-ochre-500,   $oa-colour-ink),
    "rust":       ($oa-colour-rust-600,    $oa-colour-paper)
  )
);

// Modify Bulma’s default title colours
@use "bulma/sass/elements/title" with (
  $title-color: inherit,
  $subtitle-color: inherit,
  $title-strong-color: inherit,
  $subtitle-strong-color: inherit
);

// Pull in all of Bulma (base, components, layout, themes, helpers…)
@use "bulma/bulma";

// Our own custom oa-* classes — last resort, as Bulma should cover most use cases
@use "./oa-custom-classes";

// ————————————————————————————————————————
// Bulma class overrides
// ————————————————————————————————————————

// Include a11y focus without shadows, since we are disabling/overriding them
.bulma-input:focus,
.bulma-textarea:focus,
.bulma-select select:focus {
  outline: 2px solid var(--bulma-link);
  outline-offset: 2px;
  box-shadow: none;
}
<!doctype html>
<html layout:decorate="~{layout/main}"
      xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.thymeleaf.org">
<head>
    <title th:text="${topic.name}">topic name</title>
</head>

<body>

	<!--
		BODY
	~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
	<main layout:fragment="content" class="oa-main oa-funder-feature">
		<!--
		Hero
		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<div class="bulma-hero bulma-is-medium oa-funder-hero">
			<th:block th:if="${funderBanner}">
				<img class="oa-funder-hero__bg" th:src="${funderBanner}" alt="" aria-hidden="true">
			</th:block>

			<header class="bulma-hero-body">
				<div class="bulma-container bulma-has-text-paper">
					<h1 class="bulma-title bulma-is-1" th:text="${topic.name}">Funder name</h1>
					<div class="bulma-title bulma-is-3" th:utext="${topic.description}">
						Funder tagline (description)
					</div>
				</div>
			</header>
		</div>

		<!--
		Intro
		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<section class="bulma-section">
			<h2 class="bulma-is-sr-only">About this funder</h2>
			<div class="bulma-container" th:if="${firstarticle}">
				<article th:classappend="${firstarticle.cssClass}">
					<h3 class="bulma-is-sr-only">Description</h3>
					<div class="bulma-columns">
						<div class="bulma-column bulma-is-three-quarter">
							<div class="bulma-content bulma-is-size-4"
									th:utext="${firstarticle.content}">
								Article content
							</div>
						</div>

						<div class="bulma-column bulma-is-one-quarter">
							<a th:href="${funderUrl}" target="_blank" rel="noopener">
								<img th:src="${funderLogo}" alt="Funder logo"/>
							</a>
						</div>
					</div>
				</article>

				<!-- More reading (skip first article?) -->
				<article class="bulma-columns bulma-mt-6" th:if="${#lists.size(articles) gt 1}">
					<div class="bulma-column bulma-is-three-quarter">
						<div class="bulma-content bulma-is-three-quarter">
							<h2 class="bulma-title bulma-is-5">Read more</h2>

							<ul th:classappend="${#lists.size(articles) gt 7} ? 'oapen-two-col'">
								<li th:if="${articleStat.index>0}" th:each="article,articleStat: ${articles}">
									<a th:href="@{'/article/'+${article.slug}}" th:text="${article.title}" class="bulma-is-size-4">
										Link to Article
									</a>
								</li>
							</ul>
						</div>
					</div>
				</article>
			</div>
		</section>

		<!--
		Featured titles, search, & browse this collection
		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->
		<section class="bulma-section">
			<div class="bulma-container">
				<header class="bulma-mb-4 oa-section-header">
					<div class="bulma-columns bulma-is-vcentered bulma-pb-4">
						<div class="bulma-column bulma-is-half-tablet">
							<h2 class="bulma-title bulma-is-4 bulma-has-text-weight-normal">
								Access the <span th:text="${topic.name}">Funder name</span> collection
							</h2>
						</div>
						<div class="bulma-column bulma-is-half-tablet bulma-has-text-right-tablet">
							<a th:href="${settings.dspace_site+'browse?type=collection&value='+collection}" class="bulma-button bulma-is-brand bulma-is-shadowless bulma-mb-2">Browse all â†’</a>
						</div>
					</div>
				</header>

				<div class="carouselloader bulma-mb-6" 
					th:data-src="@{'/fundertitles/'+${topic.slug}} + ' #FunderTitles'">
				</div>

				<form th:action="${settings.dspace_site+'discover'}"
							class="bulma-level-item"
							role="search">

					<form th:action="${settings.dspace_site+'discover'}" role="search" aria-labelledby="funder_search_label">
						<div class="bulma-field">
							<label id="funder_search_label" for="funder_search" class="bulma-label">
								Search this collection
							</label>

							<div class="bulma-field bulma-has-addons oa-input-group">
								<p class="bulma-control bulma-is-expanded">
									<input
										id="funder_search"
										class="bulma-input bulma-is-shadowless bulma-is-outlined"
										type="search"
										name="query"
										placeholder="Find open access books by keyword"
										autocomplete="off"
									>
									<input type="hidden" name="filtertype_1" value="collection">
									<input type="hidden" name="filter_relational_operator_1" value="equals">
									<input type="hidden" name="filter_1" th:value="${#strings.replace(collection,'+',' ')}">
								</p>

								<p class="bulma-control">
									<button
										type="submit"
										class="bulma-button bulma-is-shadowless"
										aria-label="Search this collection"
									>
										<svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
											<circle cx="11" cy="11" r="7" fill="none" stroke="currentColor" stroke-width="2"/>
											<line x1="16.65" y1="16.65" x2="21" y2="21"
														stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
										</svg>
										<span class="bulma-is-sr-only">Search</span>
									</button>
								</p>
							</div>
						</div>
					</form>

			</div>
		</section>

	</main>

</body>
</html>





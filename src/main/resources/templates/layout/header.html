<!--
  HEADER
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

<th:block th:fragment="header">
  <header id="oa-header" 
          class="oa-header" 
          role="banner"
          th:classappend="${#httpServletRequest.requestURI == '/'} ? ' oa-is-home' : ''">
    <nav class="bulma-navbar bulma-is-shadowless"
        role="navigation" aria-label="Main navigation">
      <h2 class="bulma-is-sr-only">Main navigation</h2>
      <div class="bulma-container">

        <!-- brand + burger -->
        <div class="bulma-navbar-brand">
          <a class="bulma-navbar-item oa-logo" th:href="@{'/'}" aria-label="OAPEN homepage">
            <th:block th:replace="~{include/logotype :: logo(160, 50, 'oa-logo-svg')}"></th:block>
          </a>
          <a role="button"
            class="bulma-navbar-burger bulma-burger"
            aria-label="menu" aria-expanded="false"
            data-target="oa-nav">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
          </a>
        </div>
        
        <!-- Full menu -->
        <div id="oa-nav" class="bulma-navbar-menu oa-nav-mobile">
          <ul class="bulma-navbar-end oa-navbar-list" role="menubar"></ul>
            <!-- Originally left section -->
            <li th:each="mnusection : ${menuLeftSections}"
                class="bulma-navbar-item"
                th:classappend="${#lists.isEmpty(mnusection.topics)} ? '' : ' bulma-has-dropdown bulma-is-hoverable'">
              <th:block th:insert="layout/submenu :: section_navigation">submenu</th:block>
            </li>

            <!-- Originally right section -->
            <li th:each="mnusection : ${menuRightSections}"
                class="bulma-navbar-item"
                th:classappend="${#lists.isEmpty(mnusection.topics)} ? '' : ' bulma-has-dropdown bulma-is-hoverable'">
              <th:block th:insert="layout/submenu :: section_navigation">submenu</th:block>
            </li>
            
            <!-- Newsletter -->
             <li class="bulma-navbar-item">
              <a class="bulma-button bulma-is-small bulma-is-outlined bulma-is-shadowless js-open-modal"
                data-modal="newsletter-modal" aria-haspopup="dialog" aria-controls="newsletter-modal">
                Newsletter
              </a>
            </li>
          </ul>
        </div>

      </div>
    </nav>
  </header>
</th:block>